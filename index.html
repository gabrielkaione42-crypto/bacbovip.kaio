<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Bac Bo - An√°lise com Grade Oficial</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #000;
      color: #fff;
      min-height: 100vh;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
    }
    header {
      text-align: center;
      padding: 20px;
      border-bottom: 1px solid #333;
      margin-bottom: 20px;
    }
    h1 {
      color: #00ccff;
      text-shadow: 0 0 10px rgba(0, 204, 255, 0.4);
    }
    .input-section {
      background: #0f0f20;
      padding: 20px;
      border-radius: 12px;
      margin-bottom: 20px;
    }
    label {
      display: block;
      margin-bottom: 8px;
      font-weight: bold;
      color: #00ccff;
    }
    input {
      width: 100%;
      max-width: 300px;
      padding: 12px;
      border: 1px solid #555;
      border-radius: 6px;
      background: #222;
      color: white;
      font-size: 1.1em;
    }
    button {
      background: #00ccff;
      color: #000;
      border: none;
      padding: 12px 20px;
      font-size: 1.1em;
      border-radius: 8px;
      cursor: pointer;
      margin: 5px;
      font-weight: bold;
    }
    button.clear {
      background: #ff6600;
      color: white;
    }

    .results {
      background: #0a0a1a;
      padding: 20px;
      border-radius: 12px;
      margin-bottom: 20px;
      text-align: center;
    }
    .bar-chart {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin: 20px 0;
      height: 80px;
      align-items: flex-end;
    }
    .bar {
      width: 60px;
      background: #333;
      height: 0;
      border-radius: 4px 4px 0 0;
      transition: height 0.6s ease;
    }
    .bar.blue { background: #0066ff; }
    .bar.red { background: #d40000; }
    .bar.yellow { background: #e6b800; }
    .bar-label {
      text-align: center;
      font-size: 0.9em;
      margin-top: 5px;
      white-space: nowrap;
    }

    .stats-row {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      border-bottom: 1px dashed #444;
      font-size: 1.1em;
    }
    .blue-text { color: #0066ff; }
    .red-text { color: #d40000; }
    .yellow-text { color: #e6b800; }

    .prediction {
      font-size: 1.3em;
      margin: 15px 0;
      line-height: 1.6;
    }
    .high { color: #00ffcc; }
    .medium { color: #ffcc00; }
    .low { color: #ff6666; }

    .disclaimer {
      font-size: 0.8em;
      color: #ff6666;
      margin-top: 30px;
      padding: 15px;
      border-top: 1px dashed #555;
      text-align: center;
    }

    /* Grade de rodadas */
    .round-grid {
      display: grid;
      grid-template-columns: repeat(10, 40px);
      gap: 10px;
      justify-content: center;
      margin: 20px 0;
    }
    .round-cell {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 1.2em;
      border: 2px solid #555;
      background: #222;
      color: white;
      cursor: pointer;
      font-weight: bold;
    }
    .round-cell.blue { background: #0066ff; }
    .round-cell.red { background: #d40000; }
    .round-cell.yellow { background: #e6b800; color: #000; }
    .round-cell.empty { background: #333; }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>üìä Bac Bo - An√°lise com Grade Oficial</h1>
      <p>Registre as √∫ltimas 10 rodadas e veja a an√°lise</p>
    </header>

    <div class="input-section">
      <!-- N√∫meros diretos -->
      <div class="form-group">
        <label for="blue">üîµ Azul (Player)</label>
        <input type="number" id="blue" placeholder="Ex: 8" min="0">
      </div>
      <div class="form-group">
        <label for="red">üî¥ Vermelho (Banker)</label>
        <input type="number" id="red" placeholder="Ex: 10" min="0">
      </div>
      <div class="form-group">
        <label for="yellow">üü° Amarelo (Tie)</label>
        <input type="number" id="yellow" placeholder="Ex: 2" min="0">
      </div>

      <!-- √öltimas 10 rodadas -->
      <div class="form-group">
        <label>√öltimas 10 Rodadas</label>
        <div class="round-grid" id="recentRounds"></div>
        <button class="clear" onclick="clearHistory()">üßπ Limpar Hist√≥rico</button>
      </div>

      <button onclick="analyze()">üîÆ Analisar Padr√µes</button>
    </div>

    <div class="results" id="results" style="display: none;">
      <h3>üìà An√°lise da IA</h3>

      <div class="bar-chart">
        <div><div class="bar blue" id="bar-blue"></div><div class="bar-label">Azul</div></div>
        <div><div class="bar red" id="bar-red"></div><div class="bar-label">Vermelho</div></div>
        <div><div class="bar yellow" id="bar-yellow"></div><div class="bar-label">Tie</div></div>
      </div>

      <div id="probabilities"></div>
      <div class="prediction" id="prediction"></div>
    </div>

    <div class="disclaimer">
      ‚ö†Ô∏è <strong>Aviso:</strong> Este site usa an√°lise estat√≠stica com base em padr√µes reais, mas <strong>n√£o garante resultados</strong>.<br>
      O Bac Bo √© um jogo de azar com resultados aleat√≥rios (RNG).<br>
      Use como ferramenta de apoio, nunca como garantia de vit√≥ria.<br>
      Jogue com responsabilidade.
    </div>
  </div>

  <script>
    let recentRounds = [];
    const colors = ['blue', 'red', 'yellow'];

    // Criar grade de 10 rodadas
    function createRoundGrid() {
      const grid = document.getElementById('recentRounds');
      grid.innerHTML = '';
      for (let i = 0; i < 10; i++) {
        const cell = document.createElement('div');
        cell.className = 'round-cell empty';
        cell.dataset.index = i;
        cell.onclick = () => addRound(cell.dataset.index);
        if (i < recentRounds.length) {
          const color = recentRounds[i];
          cell.className = `round-cell ${color}`;
          cell.textContent = color === 'blue' ? 'P' : color === 'red' ? 'B' : 'T';
        }
        grid.appendChild(cell);
      }
    }

    function addRound(index) {
      if (index >= 0 && index < 10) {
        const newColor = prompt("Selecione a cor:\n1. Azul\n2. Vermelho\n3. Tie");
        switch (newColor) {
          case '1':
            recentRounds[index] = 'blue';
            break;
          case '2':
            recentRounds[index] = 'red';
            break;
          case '3':
            recentRounds[index] = 'yellow';
            break;
          default:
            alert("Cor inv√°lida. Tente novamente.");
            return;
        }
        createRoundGrid();
        analyze();
      }
    }

    function clearHistory() {
      recentRounds = [];
      createRoundGrid();
      analyze();
    }

    function analyze() {
      const blue = parseInt(document.getElementById('blue').value) || 0;
      const red = parseInt(document.getElementById('red').value) || 0;
      const yellow = parseInt(document.getElementById('yellow').value) || 0;
      const total = blue + red + yellow;

      if (total === 0 && recentRounds.length === 0) {
        document.getElementById('results').style.display = 'none';
        return;
      }

      const pBlue = ((blue / total) * 100).toFixed(1);
      const pRed = ((red / total) * 100).toFixed(1);
      const pYellow = ((yellow / total) * 100).toFixed(1);

      document.getElementById('bar-blue').style.height = `${pBlue}%`;
      document.getElementById('bar-red').style.height = `${pRed}%`;
      document.getElementById('bar-yellow').style.height = `${pYellow}%`;

      const probDiv = document.getElementById('probabilities');
      probDiv.innerHTML = `
        <div class="stats-row"><span>üîµ Azul</span><span class="blue-text">${blue} ‚Üí ${pBlue}%</span></div>
        <div class="stats-row"><span>üî¥ Vermelho</span><span class="red-text">${red} ‚Üí ${pRed}%</span></div>
        <div class="stats-row"><span>üü° Tie</span><span class="yellow-text">${yellow} ‚Üí ${pYellow}%</span></div>
        <div class="stats-row" style="font-weight:bold"><span>Total</span><span>${total}</span></div>
      `;

      let suggestion = "";
      let confidence = "low";

      // üî¥ Streak de 3+ (revers√£o prov√°vel)
      if (recentRounds.length >= 3) {
        const last3 = recentRounds.slice(-3);
        if (last3[0] === last3[1] && last3[1] === last3[2]) {
          const last = last3[2];
          suggestion = `üî• Streak de 3x ${last === 'blue' ? 'üîµ Azul' : 'üî¥ Vermelho'} detectado.<br>`;
          suggestion += `‚û°Ô∏è Alta chance de <strong>revers√£o</strong>.<br>`;
          suggestion += `‚úÖ Entrada: Aposte no oposto.`;
          confidence = "high";
        }
      }

      // üü° Tie atrasado
      else if (recentRounds.length >= 10 && !recentRounds.includes('yellow')) {
        suggestion = `üü° Tie ausente h√° ${recentRounds.length} rodadas!<br>`;
        suggestion += `üí° Alta chance de sair agora (8x).<br>`;
        suggestion += `‚úÖ Entrada: Considere cobrir o Tie.`;
        confidence = "medium";
      }

      // üîÅ Zigzag claro
      else if (recentRounds.length >= 4) {
        const r = recentRounds;
        const isZigzag = r.slice(0, -1).every((v, i) => v !== r[i + 1]);
        if (isZigzag) {
          const next = r[r.length - 1] === 'blue' ? 'üî¥ Vermelho' : 'üîµ Azul';
          suggestion = `üîÑ Padr√£o alternado est√°vel.<br>‚û°Ô∏è Pr√≥xima: ${next}<br>`;
          suggestion += `‚úÖ Entrada: Siga a sequ√™ncia.`;
          confidence = "medium";
        }
      }

      // üîµüî¥ Cor dominante
      else if (pBlue > 60) {
        suggestion = `üîµ Azul est√° quente (${pBlue}%).<br>‚û°Ô∏è Pode continuar.<br>`;
        suggestion += `‚úÖ Entrada: Siga a onda.`;
        confidence = "medium";
      } else if (pRed > 60) {
        suggestion = `üî¥ Vermelho dominante (${pRed}%).<br>‚û°Ô∏è Tend√™ncia forte.<br>`;
        suggestion += `‚úÖ Entrada: Continue.`;
        confidence = "medium";
      } else {
        suggestion = `‚öñÔ∏è Sem padr√£o claro.<br>‚è∏Ô∏è Nenhuma entrada recomendada.`;
        confidence = "low";
      }

      const pred = document.getElementById('prediction');
      pred.innerHTML = `<strong>N√≠vel: ${confidence.toUpperCase()}</strong><br><br>${suggestion}`;
      pred.className = `prediction ${confidence}`;

      document.getElementById('results').style.display = 'block';
    }

    createRoundGrid();
  </script>
</body>
</html>
